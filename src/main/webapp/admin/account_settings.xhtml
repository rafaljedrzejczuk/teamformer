<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/WEB-INF/templates/template_admin.xhtml">

        <ui:define name="content">
                <center>

                        <p:panel id="panel" header="Account Settings">
                                <h:panelGrid columns='3'>
                                        <h:outputLabel for="pwd1" value="Password:" />
                                        <p:password id="pwd1" value="#{accountSettingsBean.account.password}" match="pwd2" label="Password 1" 
                                                    validatorMessage="Co najmniej 6 znaków, czubku!" feedback="true"  inline="TRUE" />
                                        <p:message for="pwd1" />

                                        <h:outputLabel for="pwd2" value="Confirm Password:" />
                                        <p:password id="pwd2" value="#{accountSettingsBean.account.password}" label="Password 2" requiredMessage="Tutaj musisz potwierdzić swoje sekretne hasło!" />
                                        <p:message for="pwd2"  />

                                        <h:outputLabel id="positions" value="Your Preffered Position: " />
                                        <h:selectOneMenu value="#{accountSettingsBean.account.position}" >
                                                <f:selectItem itemValue="#{accountSettingsBean.account.teamPosition}" 
                                                              itemLabel="#{accountSettingsBean.account.teamPosition.label} (actual)"/>
                                                <f:selectItems value="#{accountSettingsBean.teamPositions}" var="position"
                                                               itemValue="#{position}" itemLabel="#{position.label}" />
                                        </h:selectOneMenu>
                                        <p:message for="positions" />
                                </h:panelGrid>
                                <p:commandButton value="Save!" update="panel"
                                                 actionListener="#{accountSettingsBean.save()}" 
                                                 action="#{messagesBean.showMessageInfo('Opcje użytkownika zapisane!')}"/>
                        </p:panel>

                </center>
        </ui:define>

</ui:composition>